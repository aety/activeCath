function [y1] = myNeuralNetworkFunction_2D(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 28-Sep-2018 16:44:30.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx15 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [1004.93594458113;1.67675752863725;1005.42481834874;70.5689808056456;0.111783835242484;70.6022120760947;7.42793973525685;1.03159366289772;7.67350472825223;80.822822569986;1.10787332543078;80.8778042190905;56.0157291744846;-0.990374769665406;56.0356553217958];
x1_step1.gain = [0.0144085724116799;0.0117259726077774;0.0144475828398256;0.352081727836803;0.175889589116661;0.353677248823664;0.530951337893001;0.286970709368887;0.568012383037464;0.154037300171315;0.0808088382021292;0.154511635653179;0.677085620078287;0.993465185444745;0.68167842880223];
x1_step1.ymin = -1;

% Layer 1
b1 = [-21.469288839843684968;1.0465999728443042827;12.154642997338207522;7.186290685896953967;-7.2301385880452659904;0.205840966480324572;0.65617205293483460427;-0.39953837551084586677;-6.6355890078381589703;-20.358962142062296152];
IW1_1 = [-2.8982399693324847334 3.210502604080917699 -5.7997787143467229853 2.3699956860770785561 2.998395529648735014 -3.6637773755876996695 20.146250193374122262 -13.171306890456724759 16.116965386145672312 -1.1526229817178792469 -5.7822569406989607899 -2.0515271109494497281 3.0465954646238442294 18.978809160728211225 -0.43745187136216523438;-1.177727068595802784 0.28250335248077040884 1.2791090663753728052 -2.4012974192419740405 -0.034295081883291174407 2.3093240313174612233 2.2036300823594854315 -0.031137987651876614104 -2.4082105483366915699 -0.158670471471831942 -0.028145351652350072275 0.27552745238830783636 -2.8489531769186591248 -0.10350817343139769033 2.8166184809424010815;-0.070691592209874795638 3.0919594733702497891 2.3836455555004780749 -4.874874431057688362 3.3024901512175306451 -1.1817024059080825094 -8.7131412386092108591 0.25713045947226637056 -6.9278068913664947459 3.6370184622009085196 13.377909612654413252 1.0291768447052462854 0.67950676908395990505 -21.998796148448416687 -1.4247622425450019445;8.9690565622664433221 -2.1325981093801975597 -6.2855512559015638274 8.0472288251338373044 2.6887098992936895314 -9.3162298912522238936 12.524840703407656761 2.0576339832360388549 -19.762464523321884968 -1.5527836744405529856 -1.1822407038775322174 2.956995386664694081 4.3396105988013893295 0.42101609229095787734 -4.8413333641395972506;-7.367664668465698341 2.8492084118014853189 4.3580888305111695757 -10.318156597253441475 -3.3719175968837089563 11.856722737993905525 -14.30524767317738366 -2.3252340713610073486 22.554518318211297156 2.0839527873663894475 1.5453558881014830551 -3.7696852975218981818 -1.6725649131381254975 -0.44188473630068686449 2.2659699189531838925;-2.9335838231031234891 -10.189769064419163414 2.7890233306600684671 -5.6945215210813255879 -1.8325106518861691285 7.0113337548456877713 2.2170616634783741894 8.9340194907339238739 -2.3466128551130296387 0.20371498897049336585 -0.3204203103875735148 -1.7208931830622178349 1.3055057111687642379 0.15633888993068711937 -1.413094571184513093;-1.8638497713512540699 3.4623265048110880571 2.5236415320893317293 1.3761952352953887857 2.3932285496779717171 -1.3431497494626485345 2.4066161083227761708 -4.5008073842187021896 -3.0087398233588711349 0.89158756268244132581 1.3621125378264451466 0.13644713786986062409 3.3424530355368391454 -0.64159015679737352311 -3.3395734516135999748;-1.5271717030304452489 -3.8851380891516309468 0.89796933991660266017 5.1645424002157644949 -1.5970160057152560373 -5.150677181084019729 -5.6628268004136943503 4.15096658964174825 5.9773282999197814291 -0.75820631198543941842 -1.2392876445950185005 -0.2380614371433116272 1.1258219472108974557 0.66718590974109137637 -1.1137894116686701818;-3.2978790711356640308 3.0033494836855303411 0.69816830972218757445 -2.4694513729701217386 -3.2317969623141915569 3.6009307578778195769 -1.899355707985882491 0.47034512096647318469 9.5017543892634623859 -3.9281169960853969947 -1.4299800044221224748 2.4619839835126833272 -5.4285321231949774656 -0.1167354521233029685 5.9145676752059230807;-7.2232143703688045377 -2.934711730166251531 -1.1246200719937899937 -3.1142778489157194599 -2.7177457499423911536 5.7956931614111013573 8.4603591322372153627 -6.6347787259928985293 21.546207815090614446 -2.7016769844182779714 6.4586297317267815643 -2.2843552593018650043 0.075259173502184112392 7.3021768484075177952 1.8020599832290162823];

% Layer 2
b2 = [-16.453355489740541628;-7.3554556157896087143];
LW2_1 = [-3.6615145545673417615 3.6345614093333180605 0.87951636288329460012 29.023989393812954063 7.0244050433670874867 1.032350960738457335 -6.8661352375837720885 -7.137491505988196927 8.6771432584186456438 4.4574045151963783695;-0.22638457755563487495 8.5136822859278176168 0.045873556313502039661 0.20609120511744352666 0.042434603892343158993 0.066207366385712174139 0.30372175294963049685 0.47974125650241927765 -0.53810415379991427542 0.27090829175861719236];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.025;0.0227272727272727];
y1_step1.xoffset = [0;2];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
